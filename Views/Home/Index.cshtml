@model IEnumerable<Advertisment>

@using X.PagedList.Mvc.Core;
@using X.PagedList;

@{
    ViewBag.Title = "Home Page";
    var query = "";
}
<br />
<br />

<div class="row ">

    @*Left Side*@
    <div class="col-3">
        <div class="card shadow rounded">

            <div class="card-header bg-dark text-light mb-1">
                <div class="text-center">
                    <b>Filter By</b>
                </div>
            </div>

            <div class="card-body">
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
            </div>

        </div>                   
    </div>

    @*Right Side*@
    <div class="col ">

        @*NavBar and Create button*@
        <div class="row">
            <div class="col">
                <form method="get" autocomplete="off" action="@Url.Action("Index", "Home")">
                    <div class="input-group shadow rounded">
                        <div class="input-group-append">
                            <button class="btn btn-primary" type="submit">
                                <i class="fa fa-search" style="color: white;"></i>
                            </button>
                        </div>

                        <input id="query" name="search" type="text" class="form-control" placeholder="Search">
                    </div>
                </form>
            </div>
            <div class="col-auto text-right">
                <a asp-action="CreateAdvertise" asp-controller="Advertisment" class="btn btn-primary"><i class="fas fa-bullhorn"></i>&nbsp;&nbsp;Create Advertise</a>
            </div>
        </div>
        <br />

        @*Main Card*@
        @if (!Model.Any())
        {
            <h2>There are no active ads currently.</h2>
            <h5>You can create some</h5>
        }
        else
        {
            <div class="row">
            
                <div class="col">
                    <div class="card shadow rounded">

                        <div class="card-header bg-dark text-light mb-1">
                            <div class="row">
                                <div class="col-2"></div>
                                <div class="col-3 "><b>Item Details</b></div>
                                <div class="col-2 text-center"><b>Price</b></div>
                                <div class="col text-center"><b>Post Time</b></div>

                            </div>
                        </div>

                        <div class="card-body">
                            @for (int i = 0; i < Model.Count() - 1; i++)
                            {
                                var currentModel = Model.ElementAt(i);
                                <partial name="~/Views/Advertisment/AdvertismentView.cshtml" for="@currentModel" />
                                <hr />
                            }
                            @{
                                var lastModel = Model.Last();
                                <partial name="~/Views/Advertisment/AdvertismentView.cshtml" for="@lastModel" />
                            }
                            <br />

                        </div>

                        <div class="card-footer">
                            @Html.PagedListPager((IPagedList)Model, page => Url.Action("Index", new { page = page }),
                                                     new X.PagedList.Mvc.Core.Common.PagedListRenderOptions
                                                     {
                                                         DisplayItemSliceAndTotal = false,
                                                         ContainerDivClasses = new[] { "navigation" },
                                                         LiElementClasses = new[] { "page-item" },
                                                         PageClasses = new[] { "page-link" },
                                                     })
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
<br />


@section Scripts {
    <script>
        $(document).ready(function () {
            $('ul.pagination > li.disabled > a').addClass('page-link');
            $('ul.pagination > li.active > span').addClass('bg-dark text-white');


        });
    </script>
      
    <script>
        function ViewAd(id) {
            window.location.href = '/Home/ViewAdvertisment/' + id;
        }
    </script>
    <script src="~/js/CustomScript.js"></script>
}